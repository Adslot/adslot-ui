import Props from '../containers/Props.jsx';
import DesignNotes from '../containers/DesignNotes.jsx';

## CheckboxGroup

```jsx live=true
class CheckboxGroupExample extends React.PureComponent {
  constructor() {
    super();
    this.state = {
      movies: ['terminator', 'predator'],
    };
  }

  handleGroupChange(movies) {
    this.setState({ movies });
  }

  displayValue() {
    return _.isEmpty(this.state.movies) ? <i>Empty</i> : <i>[{this.state.movies.join(' ')}]</i>;
  }

  render() {
    return (
      <>
        <h4>
          <b>Selected Values: {this.displayValue.bind(this)()}</b>
        </h4>
        <br />
        <CheckboxGroup name="movies" value={this.state.movies} onChange={this.handleGroupChange.bind(this)}>
          <Checkbox label="The Terminator" value="terminator" />
          <Checkbox label="Predator" value="predator" />
          <Checkbox label="The Sound of Music" value="soundofmusic" />
        </CheckboxGroup>
        <br />
        <h4>Horizontal orientation</h4>
        <CheckboxGroup
          name="movies"
          value={this.state.movies}
          onChange={this.handleGroupChange.bind(this)}
          orientation="horizontal"
        >
          <Checkbox label="The Terminator" value="terminator" />
          <Checkbox label="Predator" value="predator" />
          <Checkbox label="The Sound of Music" value="soundofmusic" />
        </CheckboxGroup>
      </>
    );
  }
}

render(<CheckboxGroupExample />);
```

## button variant

```jsx live=true
const Example = () => {
  const [hobbies, setHobbies] = React.useState([]);
  const handleGroupChange = (value) => setHobbies(value);

  return (
    <>
      <CheckboxGroup
        variant="box"
        name="hobbies"
        value={hobbies}
        onChange={handleGroupChange}
        dts="radio-group-dts"
        style={{ width: 300 }}
      >
        <Checkbox
          value="swimming"
          label="Swimming"
          dts="radio-dts"
          icon={<SvgSymbol href="./assets/svg-symbols.svg#list" />}
          text="this is a text description"
        />
        <Checkbox
          value="soccer"
          label="Soccer"
          icon={<SvgSymbol href="./assets/svg-symbols.svg#list" />}
          text="this is a text description"
        />
        <Checkbox
          value="badminton"
          label="Badminton"
          icon={<SvgSymbol href="./assets/svg-symbols.svg#list" />}
          text="this is a text description"
        />
      </CheckboxGroup>

      <br />
      <h4>Horizontal orientation</h4>
      <CheckboxGroup
        variant="box"
        name="hobbies"
        orientation="horizontal"
        value={hobbies}
        onChange={handleGroupChange}
        dts="radio-group-dts"
        style={{ width: 600 }}
      >
        <Checkbox value="swimming" label="Swimming" dts="radio-dts" />
        <Checkbox value="soccer" label="Soccer" />
        <Checkbox value="badminton" label="Badminton" />
      </CheckboxGroup>
      <pre>hobbies: {JSON.stringify(hobbies)}</pre>
    </>
  );
};

render(Example);
```

## Advanced checkbox logic

Checkbox button group with partial states, per-item onChange override

```jsx live=true
const Example = () => {
  const allHobbies = { sports: ['swimming', 'soccer', 'badminton'], other: ['stamps'] };

  const [hobbies, setHobbies] = React.useState([]);
  const handleGroupChange = (newValues, name, checkboxValue) => {
    const isHeader = Object.keys(allHobbies).includes(checkboxValue);
    !isHeader ? setHobbies(newValues) : onHeaderChange(checkboxValue, newValues);
  };

  const onHeaderChange = (group, newValues) => {
    const groupValues = allHobbies[group];
    const selectedGroupValues = newValues.filter((v) => groupValues.includes(v));
    const checked = getIsChecked(group, selectedGroupValues);
    !checked ? setHobbies([...hobbies, ...groupValues]) : setHobbies(hobbies.filter((h) => !groupValues.includes(h)));
  };

  const getIsChecked = (value, selectedValues) => {
    if (Object.keys(allHobbies).includes(value)) {
      const current = allHobbies[value];
      if (current.every((v) => selectedValues.includes(v))) {
        return true;
      }
      if (current.some((v) => selectedValues.includes(v))) {
        return 'partial';
      }
      if (hobbies.length === 0) return false;
    }
    return selectedValues.includes(value);
  };

  return (
    <>
      <style>
        {`.checkbox-advanced .aui--checkbox:not(.header) label {
      padding-left: 20px;
    }`}
      </style>
      <CheckboxGroup
        name="hobbies"
        variant="default"
        value={hobbies}
        onChange={handleGroupChange}
        dts="checkbox-group-dts"
        getIsChecked={getIsChecked}
        className="checkbox-advanced"
      >
        <Checkbox className="header" value="sports" label="Sports" dts="checkbox-dts" />
        <Checkbox value="swimming" label="Swimming" />
        <Checkbox value="soccer" label="Soccer" />
        <Checkbox value="badminton" label="Badminton" />
        <div />
        <Checkbox className="header" value="other" label="Other" />
        <Checkbox value="stamps" label="Collecting stamps" />
      </CheckboxGroup>
      <pre>hobbies: {JSON.stringify(hobbies)}</pre>
    </>
  );
};

render(Example);
```

<Props componentName="CheckboxGroup" />
